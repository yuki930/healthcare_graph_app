# 体組成グラフメーカー（Streamlit）

omron vonnect から書き出した CSV をアップロードすると **体重/体脂肪率/骨格筋率/体脂肪量** の 4 グラフを自動生成します。
朝・夜の 2 本線、移動平均、開始日起点 →6 ヶ月/1 年の目標ラインを表示。

## 主な機能

### グラフ表示

- 体重、体脂肪率、骨格筋率、体脂肪量の 4 つのグラフを自動生成
- 朝・夜の測定値を別々の線で表示
- 移動平均線（デフォルト 7 日、3〜30 日で調整可能）
- 目標値の水平線
- 6 ヶ月/1 年到達ラインの表示（オン・オフ切替可能）
- 1 キロ・0.5 キロ単位のグリッド線
- 表示期間の選択（全期間/直近 30 日/60 日/90 日）

### 設定機能

- サイドバーで各種設定を調整可能
  - 目標値（体重、体脂肪率、骨格筋率、体脂肪量）
  - 移動平均の日数
  - グラフの表示範囲（Y 軸下限、余白）
  - 表示期間
- **設定の CSV 保存・読み込み機能**
  - 現在の設定を CSV ファイルとして保存可能
  - 保存した設定 CSV を読み込んで一括反映
  - 複数プロファイルの管理が可能

### データ処理

- CSV ファイルのアップロード対応（UTF-8、Shift-JIS 両対応）
- 必須列：「測定日」「体重(kg)」「体脂肪(%)」「骨格筋(%)」
- 体脂肪量が含まれない場合は自動計算
- 時刻情報から朝・夜を自動判定

## 使い方

### デプロイ方法

1. リポジトリにファイルを配置（[app.py](app.py), [requirements.txt](requirements.txt)）
2. Streamlit Community Cloud で New app → リポジトリとブランチを指定 → `app.py` を選んでデプロイ
3. （オプション）Secrets 機能で初期値を設定可能

### 使用方法

1. ブラウザでアプリを開く（スマホ対応）
2. CSV ファイルをアップロード
3. サイドバーで目標値や表示設定を調整
4. 設定を保存したい場合は「現在の設定を CSV で保存」→「設定 CSV をダウンロード」
5. 次回以降、保存した設定 CSV を読み込んで設定を復元可能
