# 体重データCSVフォーマット仕様

## 概要
このアプリケーションで使用する体重・体組成データのCSVファイル形式の仕様です。

## ファイル形式
- **ファイル拡張子**: `.csv`
- **文字エンコーディング**: UTF-8 または CP932（Shift_JIS）
- **区切り文字**: カンマ (`,`)
- **ヘッダー行**: 必須（1行目に列名を記載）

## 必須列

### 測定日
- **列名**: `測定日`
- **データ型**: 日付時刻
- **形式**: `YYYY-MM-DD HH:MM:SS` または `YYYY/MM/DD HH:MM:SS`
- **例**: `2025-01-01 07:00:00`, `2025/01/01 20:00:00`
- **備考**:
  - 時刻が12時未満の場合は「朝」、12時以降の場合は「夜」として分類されます
  - 時刻の記載がない場合でも日付のみで動作します

## オプション列

以下の列は任意ですが、グラフを生成するために必要です。

### 体重(kg)
- **列名**: `体重(kg)`
- **データ型**: 数値（浮動小数点）
- **単位**: キログラム
- **例**: `60.0`, `59.5`

### 体脂肪(%)
- **列名**: `体脂肪(%)`
- **データ型**: 数値（浮動小数点）
- **単位**: パーセント
- **例**: `20.0`, `19.5`

### 骨格筋(%)
- **列名**: `骨格筋(%)`
- **データ型**: 数値（浮動小数点）
- **単位**: パーセント
- **例**: `32.0`, `31.5`

### 体脂肪量(kg)
- **列名**: `体脂肪量(kg)`
- **データ型**: 数値（浮動小数点）
- **単位**: キログラム
- **例**: `12.0`, `11.6`
- **備考**:
  - この列がない場合、`体重(kg)`と`体脂肪(%)`の両方が存在すれば自動計算されます
  - 計算式: `体脂肪量(kg) = 体重(kg) × 体脂肪(%) / 100`

## CSVサンプル

```csv
測定日,体重(kg),体脂肪(%),骨格筋(%),体脂肪量(kg)
2025-01-01 07:00:00,60.0,20.0,32.0,12.0
2025-01-01 21:00:00,60.5,20.5,31.8,12.4
2025-01-02 07:30:00,59.8,19.8,32.2,11.8
2025-01-02 20:30:00,60.2,20.2,32.0,12.2
2025-01-03 07:15:00,59.5,19.5,32.5,11.6
```

## 注意事項

1. **列名の正確性**: 列名は上記の通り正確に記載してください（全角・半角、括弧の種類に注意）
2. **データの欠損**: 特定の測定日に一部の項目が欠損している場合、その項目のグラフは生成されません
3. **日付の順序**: データは測定日順に並んでいなくても問題ありません（アプリ側で自動的にソートされます）
4. **朝・夜の判定**: 測定時刻が12:00:00未満の場合は「朝」、12:00:00以降は「夜」として判定されます
5. **追加列**: 上記以外の列が含まれていても問題ありませんが、グラフ生成には使用されません

## エラーになる例

❌ **列名が異なる**
```csv
日付,体重,体脂肪率,骨格筋率
2025-01-01,60.0,20.0,32.0
```
→ 列名は`測定日`、`体重(kg)`、`体脂肪(%)`、`骨格筋(%)`である必要があります

❌ **測定日列がない**
```csv
体重(kg),体脂肪(%),骨格筋(%)
60.0,20.0,32.0
```
→ `測定日`列は必須です

❌ **日付形式が不正**
```csv
測定日,体重(kg)
2025年1月1日,60.0
```
→ 日付は `YYYY-MM-DD` または `YYYY/MM/DD` 形式で記載してください
